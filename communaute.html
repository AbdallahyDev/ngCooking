<!DOCTYPE html>

<div id="wrapper" ng-controller="communauteController as comCntrl">
    <main id="main">
        <div class="container">
            <div class="row">
                <div class="col-xs-12 col-sm-9">
                    <div class="content" id="content_users">
                        <h1 class="page-title">La communauté</h1>

                        <section class="section">
                            <h2 class="title">~ Les meilleures cuistots ~</h2>
                            <div class="sort">
                                <p>
                                    <span class="span-label">Trier par :</span>
                                    <select name="" ng-model="canon">
                                        <option value="+firstname" selected>Ordre alphabétique (A->Z)</option>
                                        <option value="-firstname">Ordre alphabétique (Z->A)</option>
                                        <option value="-level">Les mieux notés d'abord</option>
                                        <option value="+level">Les moins bien notés d'abord</option>
                                        <option value="-recettes.length">Les plus productifs d'abord</option>
                                        <option value="+recettes.length">Les moins productifs d'abord</option>
                                    </select>
                                </p>
                            </div>
                            <div class="users row">
                                <div class="col-xs-6 col-sm-3 user"
                                     ng-repeat="user in communautes|orderBy:getCanon()|limitTo:numberAllowed">
                                    <a href="#/communaute_details" ng-click="addToCookie(user.id)">
                                        <img ng-src="{{user.picture}}" alt="{{user.firstname}}">
                                        <div class="text">
                                            <p class="name">{{user.firstname}} {{user.surname}}</p>
                                            <p class="level">
                                            <span class="stars"
                                                  ng-repeat="star in getStars(user.level) track by $index">
                                            <span class="glyphicon glyphicon-star"></span>
                                            </span>
                                                <span class="status"> {{getLevel(user.level)}}</span>
                                            </p>
                                        </div>
                                    </a>
                                </div>
                            </div>
                            <div class="row showmore"
                                 ng-show="communautes.length>8 && numberAllowed<communautes.length">
                                <div class="col-xs-12">
                                    <button type="button" class="btn btn_color1"
                                            ng-click="numberAllowed=numberAllowed+8"><span
                                            class="glyphicon glyphicon-chevron-down"></span>Afficher d'avantage
                                    </button>
                                </div>
                            </div>
                        </section>

                    </div>
                </div>
            </div>
        </div>
    </main>
</div>